# Copy to .docker.env and fill in.
ADMIN_USER=admin
ADMIN_PASS=change-me

# Optional: digest send target when scheduler runs with send=true.
# TO_EMAIL=you@example.com

# --- DB runtime mode ---
# PostgreSQL (compose service: db)
POSTGRES_DB=ivd
POSTGRES_USER=ivd
POSTGRES_PASSWORD=ivd_dev_only_change_me

# Dual-write gray mode (primary=PG, secondary=SQLite)
DATABASE_URL=postgresql+psycopg://ivd:ivd_dev_only_change_me@db:5432/ivd
DATABASE_URL_SECONDARY=sqlite:///data/rules.db
DB_WRITE_MODE=dual
DB_READ_MODE=shadow_compare
# If dual-write enabled, strict=true means secondary write failure will fail request.
DB_DUAL_STRICT=false

# --- Feed 中文增强（可选）---
# 0=关闭（默认，仅规则回退）；1=开启模型增强
FEED_ZH_LLM_ENABLED=0
# provider: openai | anthropic | gemini
FEED_ZH_PROVIDER=openai
# OpenAI: https://api.openai.com/v1/chat/completions
# Anthropic: https://api.anthropic.com/v1/messages
# Gemini base: https://generativelanguage.googleapis.com/v1beta
FEED_ZH_LLM_URL=
FEED_ZH_LLM_API_KEY=
FEED_ZH_LLM_MODEL=gpt-4o-mini
# OpenAI-compatible auth:
# - 标准 OpenAI: FEED_ZH_LLM_AUTH_HEADER=Authorization, FEED_ZH_LLM_AUTH_SCHEME=bearer
# - 中转 x-api-key: FEED_ZH_LLM_AUTH_HEADER=x-api-key, FEED_ZH_LLM_AUTH_SCHEME=raw
FEED_ZH_LLM_AUTH_HEADER=Authorization
FEED_ZH_LLM_AUTH_SCHEME=bearer
FEED_ZH_ANTHROPIC_VERSION=2023-06-01
FEED_ZH_LLM_MAX_PER_REQUEST=30
FEED_ZH_MIN_SNIPPET_CHARS=20
FEED_ZH_MIN_TITLE_CHARS=12
